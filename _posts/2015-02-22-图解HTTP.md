---
layout: post
title: 图解HTTP
category: [网络,图书阅读]
tags: [网络,图书]
---

### 首先这本书看了一遍之后,发现他就是个面向绝对纯新手的书籍,入门看的,他针对的一些知识点知识略微科普下,让你简单了解什么是http,http是无状态的,而至于他的顺序性,可靠性,还有tcp的延迟启动,慢启动都没有说,甚至3次握手都是简单说下,所以不推荐买,这些东西自己网络上面看看就好了.没有帮助,除非你是萌新入门,否则还是直接看HTTP权威指南吧.那个介绍的比较详细,毕竟1200页的书籍,介绍也非常的细致

下面简单整理下吧


HTTP1.0和HTTP1.1之间支持的方法区别

![](http://pic.woowen.com/http1andhttp1.0.png)

#### 持久连接

HTTP1.0时期,每次创建一个http通信都需要创建一次TCP连接
HTTP1.1时期,实现了持久连接,只要客户端和服务端任意一方没有提成明确的断开则保持TCP状态,1.1中所有的连接默认都是持久连接,减少了每次TCP断开再重新创建的额外资源消耗,加快了页面加载的速度


#### 流水线(管线化)

持久连接虽然减少了TCP创建的时间,但是每次http通信还是需要等待上一次的通信结果返回,才能继续通信,而流水线就是可以直接通信,不用等待上一次的结果返回,http1.1中,针对每个域名的并发http连接请求是于限制的.而在HTTP2.0中因为有了多路复用,因此没有了相关的限制

流水线过程

![](http://pic.woowen.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-04-05%20%E4%B8%8A%E5%8D%8812.19.22.png)

#### HTTP报文

报文是http通信中的单位

![](http://pic.woowen.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-04-05%20%E4%B8%8A%E5%8D%8812.21.32.png)

#### 编码

一般通过对报文body的压缩编码,使得报文主体部分size变小,从而加快传输,通常的压缩有gzip,compress 而HTTP2.0支持对head(头部)的压缩

#### 分块传输

![](http://pic.woowen.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-04-05%20%E4%B8%8A%E5%8D%8812.24.31.png)

每次报文传输之前会先将报文主体分成多个块,最后一块用0(CR+LF)来标记

#### 指定范围

5001~10 000 字节

``` Range: bytes=5001-10000 ```

5001字节之后

``` Range: bytes=5001- ```

从3000 字节和 5000 7000 字节的多重范围

Range: bytes=-3000, 5000-7000

#### SPDY

使用SPDY后,http协议额外获得了以下功能

* 1.多路复用,通过单一的TCP连接,可以无限制的处理多个HTTP请求,所有的请求处理都在一条TCP连接上完成
* 2.请求优先级,可以给多个请求分配优先级,譬如,js和css的优先级一般都是高于图片的.这有用户在网络很慢的情况下,最先出来的肯定是页面的一个整体结构,就不会因为加载图片而导致用户觉得页面非常慢
* 3.压缩HTTP head
* 4.推送功能,支持服务端主动向客户端推送数据



